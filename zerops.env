# Zerops Environment Configuration Template
# 
# This file shows the environment variables used in the Zerops deployment.
# DO NOT commit actual secrets to git! Set these in Zerops Dashboard.

# =============================================================================
# REQUIRED ZEROPS SECRETS (set in Zerops Dashboard > Environment Variables)
# =============================================================================

# Database credentials
dbPassword=your-secure-database-password-here

# Admin credentials  
adminPassword=your-admin-password-here

# Site configuration
siteName=your-domain.com

# =============================================================================
# DOCKER COMPOSE CONFIGURATION (automatically configured)
# =============================================================================

# Image settings
CUSTOM_IMAGE=frappe/erpnext
CUSTOM_TAG=v15.84.0
ERPNEXT_VERSION=v15.84.0
PULL_POLICY=always
RESTART_POLICY=unless-stopped

# Service connections (managed by Zerops)
DB_HOST=db
DB_PORT=3306
REDIS_CACHE=redis-cache:6379
REDIS_QUEUE=redis-queue:6379

# Frontend/Nginx settings
UPSTREAM_REAL_IP_ADDRESS=127.0.0.1
UPSTREAM_REAL_IP_HEADER=X-Forwarded-For
UPSTREAM_REAL_IP_RECURSIVE=off
# =============================================================================
# DEPLOYMENT ARCHITECTURE
# =============================================================================

# Managed Services (created in Zerops Dashboard):
# - db: MariaDB 11 database service
# - redis-cache: Valkey 7.2 cache service (NON_HA mode)  
# - redis-queue: Valkey 7.2 queue service (NON_HA mode)
# - app: Docker Compose application service

# Docker Compose Services:
# - configurator: One-time setup and configuration
# - backend: Main Frappe/ERPNext application (port 8000)
# - frontend: Nginx proxy (port 8080)
# - websocket: Socket.io service (port 9000)
# - queue-short: Background job worker (short tasks)
# - queue-long: Background job worker (long tasks)  
# - scheduler: Cron job scheduler

# =============================================================================
# DEPLOYMENT INSTRUCTIONS
# =============================================================================

# 1. Create Zerops project and services:
#    - MariaDB 11 service named "db"
#    - Valkey 7.2 service named "redis-cache"  
#    - Valkey 7.2 service named "redis-queue"
#
# 2. Set environment secrets in Zerops Dashboard:
#    - dbPassword: Strong database password
#    - adminPassword: ERPNext admin password
#    - siteName: Your domain name
#
# 3. Deploy using git integration or Zerops CLI
#
# 4. Access your ERPNext instance at the app service URL

# =============================================================================
# DEPLOYMENT INSTRUCTIONS
# =============================================================================
# 1. Set the 3 required secrets in Zerops Dashboard:
#    - db_password: Strong password for MariaDB (min 8 chars)
#    - admin_password: Password for ERPNext admin user (min 8 chars)  
#    - site_name: Your domain name (e.g., mycompany.example.com)
#
# 2. Deploy using zerops.yml file
#
# 3. Access your ERPNext site at the domain specified in site_name
#    - Username: administrator
#    - Password: [value from admin_password secret]